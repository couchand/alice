#!/usr/local/bin/node
// Generated by CoffeeScript 1.4.0
(function() {
  var alice, fs, main;

  fs = require('fs');

  alice = require('../lib/alice.js');

  main = function(argv) {
    var cls, file, name, warning, warnings, _i, _len, _ref, _ref1, _results;
    if (!(argv[1] != null)) {
      console.log("Usage: " + argv[0] + " FILE [ FILE ... ]");
      return;
    }
    _ref = argv.slice(1);
    _results = [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      file = _ref[_i];
      cls = fs.readFileSync(file).toString();
      name = (_ref1 = file.match(/\/([^\/]+)\.cls$/)) != null ? _ref1[1] : void 0;
      if (!name) {
        continue;
      }
      console.log("Alice is now analyzing " + name);
      warnings = alice.analyze(name, cls);
      if (warnings) {
        _results.push((function() {
          var _j, _len1, _results1;
          _results1 = [];
          for (_j = 0, _len1 = warnings.length; _j < _len1; _j++) {
            warning = warnings[_j];
            _results1.push(console.log(warning));
          }
          return _results1;
        })());
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  main(process.argv.slice(1));

}).call(this);
